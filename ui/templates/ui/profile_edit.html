{% extends "ui/base.html" %}
{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="container py-4" style="max-width: 820px;">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h4 mb-0">Edit Profile</h1>
    <a href="{% url 'ui:profile' %}" class="btn btn-sm btn-outline-secondary">Back</a>
  </div>

  <div class="card shadow-sm">
    <div class="card-body">
      <form method="post" novalidate>
        {% csrf_token %}

        {% if form.non_field_errors %}
          <div class="alert alert-danger">{{ form.non_field_errors }}</div>
        {% endif %}

        <div class="row g-3">

          <div class="col-md-6">
            <label class="form-label small text-muted">Username (not editable)</label>
            <input type="text" class="form-control" value="{{ request.user.username }}" disabled>
          </div>

          <div class="col-md-6">
            <label class="form-label small text-muted">Email</label>
            {{ form.email }}
            {% if form.email.errors %}
              <div class="text-danger small mt-1">{{ form.email.errors|striptags }}</div>
            {% endif %}
          </div>

          <div class="col-md-6">
            <label class="form-label small text-muted">First name</label>
            {{ form.first_name }}
            {% if form.first_name.errors %}
              <div class="text-danger small mt-1">{{ form.first_name.errors|striptags }}</div>
            {% endif %}
          </div>

          <div class="col-md-6">
            <label class="form-label small text-muted">Last name</label>
            {{ form.last_name }}
            {% if form.last_name.errors %}
              <div class="text-danger small mt-1">{{ form.last_name.errors|striptags }}</div>
            {% endif %}
          </div>

        </div>

        <div class="mt-4 d-flex gap-2">
          <button type="submit" class="btn btn-primary">Save changes</button>
          <a href="{% url 'ui:profile' %}" class="btn btn-outline-secondary">Cancel</a>
        </div>

      </form>
    </div>
  </div>

</div>
{% endblock %}
